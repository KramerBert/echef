import mysql.connector

# Maak verbinding met de database
connection = mysql.connector.connect(
    host="localhost",
    user="root",
    password="PCstraat100%",
    database="echef"
)

cursor = connection.cursor()

# Voeg de chef_id kolom toe aan de gerecht tabel als deze nog niet bestaat
check_column_query = """
SELECT COUNT(*)
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME='gerecht' AND COLUMN_NAME='chef_id';
"""

cursor.execute(check_column_query)
if cursor.fetchone()[0] == 0:
    alter_table_query_gerecht = """
    ALTER TABLE gerecht
    ADD COLUMN chef_id INT NOT NULL,
    ADD FOREIGN KEY (chef_id) REFERENCES chefs(id);
    """
    cursor.execute(alter_table_query_gerecht)
    connection.commit()
    print("Kolom chef_id is succesvol toegevoegd aan de tabel gerecht.")
else:
    print("Kolom chef_id bestaat al in de tabel gerecht.")

cursor.close()
connection.close()