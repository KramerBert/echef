{% extends "base.html" %}
{% block title %}AI Recepten Assistent - E-chef{% endblock %}
{% block content %}
<div class="container mt-5">
    <h1><i class="fas fa-robot"></i> AI Recepten Assistent</h1>
    <div class="row">
        <div class="col-12 mb-4">
            <div class="card bg-dark">
                <div class="card-body">
                    <form method="POST" action="{{ url_for('ai_generate_recipe') }}" class="mb-3">
                        <div class="mb-3">
                            <label for="recipe_prompt" class="form-label">Beschrijf het gerecht dat je wilt maken:</label>
                            <textarea class="form-control" id="recipe_prompt" name="recipe_prompt" rows="3" 
                                    placeholder="Bijvoorbeeld: Een vegetarische pasta met seizoensgroenten en romige saus"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-magic"></i> Genereer Recept
                        </button>
                    </form>
                </div>
            </div>
        </div>

        {% if recipe_data %}
        <div class="col-12">
            <div class="card bg-dark">
                <div class="card-body">
                    <h2>Gegenereerd Recept</h2>
                    <h3>{{ recipe_data.title }}</h3>
                    
                    <h4>IngrediÃ«nten:</h4>
                    <ul>
                    {% for ingredient in recipe_data.ingredients %}
                        <li>{{ ingredient }}</li>
                    {% endfor %}
                    </ul>

                    <h4>Bereidingswijze:</h4>
                    <ol>
                    {% for step in recipe_data.instructions %}
                        <li>{{ step }}</li>
                    {% endfor %}
                    </ol>

                    <form method="POST" action="{{ url_for('save_ai_recipe') }}">
                        <input type="hidden" name="recipe_data" value="{{ recipe_data|tojson }}">
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i> Opslaan als Nieuw Gerecht
                        </button>
                    </form>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
