{% extends "base.html" %}
{% block content %}
<h2>Gerechten Samenstellen</h2>
<p>Maak hier een nieuw gerecht aan of bewerk bestaande gerechten.</p>

<!-- Formulier om nieuw gerecht aan te maken -->
<form method="POST" action="{{ url_for('manage_dishes', chef_naam=chef_naam) }}">
    <!-- We gebruiken een verborgen veld om te signaleren dat we dit formulier insturen -->
    <input type="hidden" name="gerechtForm" value="1">

    <label for="naam">Naam gerecht:</label><br>
    <input type="text" id="naam" name="naam" required><br><br>

    <label for="beschrijving">Beschrijving (optioneel):</label><br>
    <textarea id="beschrijving" name="beschrijving" rows="3"></textarea><br><br>

    <label for="verkoopprijs">Verkoopprijs (optioneel):</label><br>
    <input type="number" step="0.01" id="verkoopprijs" name="verkoopprijs"><br><br>

    <label for="gerecht_categorie">Categorie:</label><br>
    <select id="gerecht_categorie" name="gerecht_categorie">
        <option value="voorgerecht">Voorgerecht</option>
        <option value="hoofdgerecht">Hoofdgerecht</option>
        <option value="nagerecht">Nagerecht</option>
        <option value="dessert">Dessert</option>
    </select><br><br>

    <button type="submit">Gerecht toevoegen</button>
</form>

<hr>

<!-- Overzicht van alle bestaande gerechten van deze chef -->
<h3>Bestaande Gerechten</h3>
<table border="1" cellpadding="5" cellspacing="0">
    <tr>
        <th>ID</th>
        <th>Naam</th>
        <th>Categorie</th>
        <th>Verkoopprijs</th>
        <th>Bewerken</th>
    </tr>
    {% for gerecht in gerechten %}
    <tr>
        <td>{{ gerecht.dish_id }}</td>
        <td>{{ gerecht.naam }}</td>
        <td>{{ gerecht.categorie }}</td>
        <td>{{ gerecht.verkoopprijs }}</td>
        <td><a href="{{ url_for('edit_dish', chef_naam=chef_naam, dish_id=gerecht.dish_id) }}">IngrediÃ«nten toevoegen</a></td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
